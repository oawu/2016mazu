/*! iGrowl v3.0
	Copyright (c) 2014 Catalin Covic 
	https://github.com/catc 
*/
!function(t){"use strict";var i="webkitAnimationStart oanimationstart MSAnimationStart animationstart",n="webkitAnimationEnd oanimationend MSAnimationEnd animationend",e='<div class="igrowl animated" role="alert"><div class="igrowl-text"></div><button class="igrowl-dismiss i-times"></button></div>',l=function(i){return i=t.extend(!0,{},t.iGrowl.prototype.defaults,i),this.options=i,this.template=o(i),a.call(this),this},o=function(i){if(!i.title&&!i.message)throw new Error("You must enter at least a title or message.");var n=t(e);return i.small&&n.addClass("igrowl-small"),n.addClass("igrowl-"+i.type),i.image.src?n.prepend('<div class="igrowl-img '+i.image.class+'"><img src="'+i.image.src+'"</div>'):i.icon&&n.prepend('<div class="igrowl-icon i-'+i.icon+'"></div>'),i.title&&n.find(".igrowl-text").prepend('<div class="igrowl-title">'+i.title+"</div>"),i.message&&n.find(".igrowl-text").append('<div class="igrowl-message">'+i.message+"</div>"),i.link&&n.addClass("igrowl-link").children(".igrowl-icon, .igrowl-text").wrapAll('<a href="'+i.link+'" target="_'+i.target+'" />'),n.attr("alert-placement",i.placement.x+" "+i.placement.y),n},a=function(){var e=this.options,l=this.template,o=t('.igrowl[alert-placement="'+e.placement.x+" "+e.placement.y+'"]').last(),a=e.offset.y,r=this;o.length&&(a=parseInt(o.css(e.placement.y),10)+o.outerHeight()+e.spacing),l.css(e.placement.y,a),"center"===e.placement.x?l.addClass("igrowl-center"):l.css(e.placement.x,e.offset.x),t("body").append(l),e.animation?l.addClass(e.animShow).one(i,function(){"function"==typeof e.onShow&&e.onShow()}).one(n,function(){s.call(r)}):s.call(r)},s=function(){var t=this.options,i=this.template;"function"==typeof t.onShown&&t.onShown();var n=this;t.delay>0&&setTimeout(function(){n.dismiss()},t.delay),i.find(".igrowl-dismiss").on("click",function(){n.dismiss()})},r=function(){var i=this.options,n=t(this.template);n.nextAll('.igrowl[alert-placement="'+i.placement.x+" "+i.placement.y+'"]').each(function(e,l){var o=parseInt(t(this).css(i.placement.y),10)-n.outerHeight()-i.spacing;t(l).css(i.placement.y,o)}),n.remove()};l.prototype={dismiss:function(){var t=this.options,e=this.template,l=this;t.animation?(this.template.removeClass(t.animShow).addClass(t.animHide).one(i,function(){"function"==typeof t.onHide&&t.onHide()}).one(n,function(){"function"==typeof t.onHidden&&t.onHidden(),r.call(l)}),setTimeout(function(){e.hide(),r.call(l)},1500)):(e.hide(),"function"==typeof t.onHidden&&t.onHidden(),r.call(l))}},t.iGrowl=function(t){var i=new l(t);return i},t.iGrowl.prototype.dismissAll=function(i){"all"===i?t(".igrowl button").trigger("click"):t('.igrowl[alert-placement="'+i+'"] button').trigger("click")},t.iGrowl.prototype.defaults={type:"info",title:null,message:null,link:null,target:"self",icon:null,image:{src:null,"class":null},small:!1,delay:2500,spacing:30,placement:{x:"right",y:"top"},offset:{x:20,y:20},animation:!0,animShow:"bounceIn",animHide:"bounceOut",onShow:null,onShown:null,onHide:null,onHidden:null}}(jQuery);
