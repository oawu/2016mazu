/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

@import "_oa";
._c {
  $figureHeight: 300px;
  $figureMinHeight: 200px;

  text-align: left;
  padding: 0 25px;
  @media screen and (min-width: 0px) and (max-width: #{$mediaMobileWidth - 1px}) {
    padding: 0 10px;
  }

  .i {
    font-size: 13px;
    position: relative;

    @media screen and (min-width: $mediaMobileWidth) {
      padding-top: 10px;
    }
    
    @include clearfix();

    figure {
      position: relative;
      margin: 0;
      margin-bottom: 10px;
      padding: 0;
      float: left;
      text-align: center;
      @include box-shadow(none);
      @include border-radius(0);

      a {
        width: 100%;
        height: 100%;
        position: relative;
        display: inline-block;
      }
      &:first-child {
        $t: 0 - 20px - 45px - 10px;
        $l: 0 - 45px;
        position: absolute;
        top: -20px - 45px - 10px;
        left: $l;
        display: inline-block;
        width: calc(100% - #{$l * 2});
        height: calc(100% - #{$t} + 10px);
        @include filter(blur(5px));
        @include opacity(.5)
      }
      &:not(:first-child) {
        a {
          position: relative;
          display: inline-block;
          margin: 0 auto;
          @include border-radius(50%);
          @include box-shadow(1px 1px 1px rgba(255, 255, 255, .3), 1px 1px 1px rgba(255, 255, 255, .2));
          img {
            width: 100%;
          }

          &:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            display: inline-block;
            width: 100%;
            height: 100%;

            @include border-radius(50%);
            @include box-shadow(inset 1px 1px 1px rgba(39, 40, 34, .5), inset 1px 1px 2px rgba(39, 40, 34, .3));
          }
        }

        figcaption {
          position: relative;
          float: left;
          display: inline-block;
          width: 100%;
          padding: 0 3px;
          padding-top: 18px;
          text-align: center;
          font-size: 17px;
          font-weight: bold;
          letter-spacing: 1px;
          color: rgba(30, 30, 30, 1);
          @include transition(all .5s);

          @include background-image(radial-gradient(45% 45%, rgba(230, 230, 230, .75) 0px, rgba(255, 255, 255, 0) 100%));
          background-repeat: no-repeat;
          background-position: 50% 3px;

          &:before {
            content: attr(data-title);
            position: absolute;
            top: 90%;
            left: 0;
            display: inline-block;
            width: 100%;
            padding: 0 3px;
            font-size: 10px;
            font-weight: normal;
            @include transition(all .5s);
            top: 2px;
            left: 0;
          }
        }
      }
    }

    @media screen and (min-width: $mediaMobileWidth) {
      $d: 75px;
      
      figure {
        &:not(:first-child) {
          a {
            width: $d;
            height: $d;
          }
        }
      }
    }
    @media screen and (min-width: 0px) and (max-width: #{$mediaMobileWidth - 1px}) {
      $d: 50px;

      figure {
        &:not(:first-child) {
          a {
            width: $d;
            height: $d;
          }
        }
      }
    }

    @media screen and (min-width: 0px) and (max-width: #{300px - 1px}) { figure { width: calc((100% - 5px * 1) / 2); margin-right: 5px; &:nth-child(2n) { margin-right: 0; } } }
    @media screen and (min-width: 300px) and (max-width: #{430px - 1px}) { figure { width: calc((100% - 5px * 2) / 3); margin-right: 5px; &:nth-child(3n) { margin-right: 0; } } }
    @media screen and (min-width: 430px) and (max-width: #{540px - 1px}) { figure { width: calc((100% - 5px * 3) / 4); margin-right: 5px; &:nth-child(4n) { margin-right: 0; } } }
    @media screen and (min-width: 540px) and (max-width: #{740px - 1px}) { figure { width: calc((100% - 5px * 4) / 5); margin-right: 5px; &:nth-child(5n) { margin-right: 0; } } }
    @media screen and (min-width: 740px) and (max-width: #{820px - 1px}) { figure { width: calc((100% - 5px * 5) / 6); margin-right: 5px; &:nth-child(6n) { margin-right: 0; } } }
    @media screen and (min-width: 820px) and (max-width: #{910px - 1px}) { figure { width: calc((100% - 5px * 6) / 7); margin-right: 5px; &:nth-child(7n) { margin-right: 0; } } }
    @media screen and (min-width: 910px) and (max-width: #{$mediaTabletWidth - 1px}) { figure { width: calc((100% - 5px * 7) / 8); margin-right: 5px; &:nth-child(8n) { margin-right: 0; } } }
    @media screen and (min-width: $mediaTabletWidth) and (max-width: #{1085px - 1px}) { figure { width: calc((100% - 5px * 4) / 5); margin-right: 5px; &:nth-child(5n) { margin-right: 0; } } }
    @media screen and (min-width: 1085px) and (max-width: #{1270px - 1px}) { figure { width: calc((100% - 5px * 5) / 6); margin-right: 5px; &:nth-child(6n) { margin-right: 0; } } }
    @media screen and (min-width: 1270px) { figure { width: 150px; margin-right: 5px; } }
  }
  > article {
    word-wrap: break-word; 
    word-break: break-all;
    margin-top: 70px;

    &, * {
      font-family: "微軟正黑體", "Open sans", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, Monaco !important;
    }
    p {
      font-size: 16px;
      margin: 5px 0;
      margin: 15.5px auto;
      color: rgba(85, 85, 85, 1);
      line-height: 1.7em;
      @media screen and (min-width: 0px) and (max-width: #{$mediaMobileWidth - 1px}) {
        br {
          display: none;
        }
      }
      + p {
        margin-top: 20px;
      }
      a {
        @include a(1px, true);
        padding: 0;
        padding-bottom: 0;
        border-bottom-color: rgba(42, 90, 149, 0.25);
      }
      img {
        width: auto !important;
        height: auto !important;

        max-width: 100% !important;
        max-height: 350px !important;
        @include border-radius(2px);
        margin-bottom: 15px;
        cursor: pointer;

        @media screen and (min-width: 0px) and (max-width: #{$mediaMobileWidth - 1px}) {
          width: 100% !important;
        }
      }
    }
    ul {
      margin: 15.5px auto;
      margin-bottom: 20px;
      padding-left: 30px;

      li {
        color: rgba(100, 100, 100, 1);

        + li {
          margin-top: 5px;
        }
      }
    }
  }
  > ul {
    position: relative;
    list-style-type: none;
    padding-left: 5px;
    margin-bottom: 10px;
    display: block;
    padding-top: 35px;
    margin-top: 35px;

    &:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      display: inline-block;
      width: 100%;
      height: 1px;
      border-top: 1px dashed rgba(220, 220, 220, 1);
    }
    &:after {
      content: '相關參考';
      position: absolute;
      left: 20px;
      top: -12px;
      display: inline-block;
      padding: 3px 8px;
      border: 1px dashed rgba(200, 200, 200, 1);
      font-size: 10px;
      background-color: rgba(255, 255, 255, 1);
      @include border-radius(3px);
      
    }

    li {
      font-size: 0;

      + li {
        margin-top: 15px;
      }
      a {
        @include a;

        padding: 0;
        font-size: 14px;
        @include overflow-docx3();
        max-width: 100%;
      }
      span {
        display: inline-block;
        font-size: 10px;
        color: rgba(85, 85, 85, .6);
        font-style: oblique;
        @include overflow-docx3();
        @media screen and (min-width: 0px) and (max-width: #{$mediaMobileWidth - 1px}) {
          max-width: 100%;
          width: 100%;
        }
        a {
          @include a(1px, true);
          color: rgba(85, 85, 85, .6);
          font-size: 13px;
          border-bottom-color: rgba(85, 85, 85, .2);
          @media screen and (min-width: 0px) and (max-width: #{$mediaMobileWidth - 1px}) {
            @include overflow-docx3();
            max-width: calc(100% - 20px);
          }
        }

        &:before {
          content: '-';
          margin-right: 5px;
          margin-left: 5px;
          // @media screen and (min-width: 0px) and (max-width: #{$changeWidth - 1px}) {
          //   margin-left: 10px;
          // }
        }
      }
    }
  }
  .pv {
    display: inline-block;
    width: 100%;
    text-align: right;
    color: rgba(85, 85, 85, .7);
    margin-top: 0;

    &:before {
      display: inline-block;
      margin-top: 1px;
      margin-right: 3px;
    }
  }
  .np {
    margin-top: 10px;
    margin-bottom: 20px;
    border-top: 1px solid rgba(39, 40, 34, .1);
    padding-top: 30px;
    @include clearfix();

    figure {
      float: left;
      position: relative;
      display: inline-block;
      max-width: 47.5%;
      min-width: 75px;
      margin: 0;
      @include clearfix();
      padding-left: 50px;

      &:hover {
        > a {
          @include opacity(1);
        }
      }
      > a {
        @include a;
        position: absolute;
        left: 0;
        top: 0;
        display: inline-block;
        width: 50px;
        height: 50px;
        @include border-radius(50%);
        @include opacity(.8);
        @include box-shadow(0 0 1px rgba(39, 40, 34, .1), 0 0 10px rgba(39, 40, 34, .1));
      }
      figcaption {
        float: left;
        width: 100%;
        padding-left: 10px;
        margin-bottom: 10px;

        a {
          @include a;
          display: inline-block;
          width: 100%;
          height: 100%;
          font-weight: bold;
          font-size: 15px;
          line-height: 1.5em;
          
          &:before {
            content: '上一篇';
            display: inline-block;
            width: 100%;
            font-weight: normal;
            font-size: 10px;
            @include opacity(.6);
          }
        }
      }

      &.p {
        float: left;
        text-align: left;
      }
      &.n {
        float: right;
        text-align: right;
        padding-left: 0;
        padding-right: 50px;

        a {
          left: auto;
          right: 0;
        }
        figcaption {
          float: right;
          padding-left: 0;
          padding-right: 10px;
          a {
            &:before {
              content: '下一篇';
            }
          }
        }
      }
    }
  }
}